<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://pixijs.com/pixi.js"></script>
  <title>index</title>
  <script type="module" crossorigin src="/HTK-website/assets/index-2f642107.js"></script>
  <link rel="stylesheet" href="/HTK-website/assets/index-3a6569b9.css">
</head>

<body>
  <header class="text-white d-flex align-items-center justify-content-between">
    <div class="title d-flex align-items-center">
        <div class="logo">
        </div>
        <div>
            <h1 class="header-title fw-bold m-0">
                交通轉乘資訊</h1>
            <p class="header-subtitle m-0">Transportation Transfer Information</p>
        </div>
    </div>
    <div class="time">
        <span class="time-content">09:36</span><span class="time-zone">am</span>
        <div class="time-date">星期一,01月15日</div>
    </div>

</header>

    <div class="container-fluid p-0">
      <div class="scene"></div>
    </div>

    <div class="container-fluid p-0">
      <!-- "bus-title -->
      <div class="bus-title d-flex text-center align-items-center">
        <div class="IntercityBus text-white fw-bold">
          <!--p-4  -->
          <i class="fa-solid fa-bus"></i>
          <span class="chinese-title">客運</span>
          <p class="english-title m-0">Intercity Bus</p>
        </div>
        <div class="Destination">
          <p class="chinese-title m-0">開往</p>
          <p class="english-title m-0">Destination</p>
        </div>
        <div class="Gate">
          <p class="chinese-title m-0">站口</p>
          <p class="english-title m-0">Gate</p>
        </div>
        <div class="Dep">
          <p class="chinese-title m-0">發車時刻</p>
          <p class="english-title m-0">Dep.Time</p>
        </div>
      </div>

      <!-- bus-content1 -->
      <div class="bus-content d-flex text-center fw-bold">
        <div class="IntercityBus">
          <p class="number">2061</p>
          <span class="chinese-title">國光客運</span>
          <p class="english-title">Kuo-Kuang</p>
        </div>
        <div class="Destination align-self-center">
          <p class="chinese-title">基隆→市民大道</p>
          <p class="english-title">Kerun→FourSt</p>
        </div>
        <div class="Gate align-self-center">
          <p class="chinese-title">06</p>
        </div>
        <div class="Dep align-self-center">
          <p class="chinese-title">11:30</p>
        </div>
      </div>

      <!-- bus-content2 -->
      <div class="bus-content d-flex text-center fw-bold">
        <div class="IntercityBus">
          <p class="number">2061</p>
          <span class="chinese-title">國光客運</span>
          <p class="english-title">Kuo-Kuang</p>
        </div>
        <div class="Destination align-self-center">
          <p class="chinese-title">基隆→市民大道</p>
          <p class="english-title">Kerun→FourSt</p>
        </div>
        <div class="Gate align-self-center">
          <p class="chinese-title">06</p>
        </div>
        <div class="Dep align-self-center">
          <p class="chinese-title">11:30</p>
        </div>
      </div>

      <!-- bus-content3 -->
      <div class="bus-content d-flex text-center fw-bold">
        <div class="IntercityBus">
          <p class="number">2061</p>
          <span class="chinese-title">國光客運</span>
          <p class="english-title">Kuo-Kuang</p>
        </div>
        <div class="Destination align-self-center">
          <p class="chinese-title">基隆→市民大道</p>
          <p class="english-title">Kerun→FourSt</p>
        </div>
        <div class="Gate align-self-center">
          <p class="chinese-title">06</p>
        </div>
        <div class="Dep align-self-center">
          <p class="chinese-title">11:30</p>
        </div>
      </div>
    </div>


    <div class="contianer-fluid speaker d-flex align-items-center">
      <img src="/HTK-website/assets/speaker-32042275.svg" alt="speaker">
      <div class="speaker-content-wrap">
        <p class="speaker-content ticker-item text-white m-0" id="marqueeContainer"><canvas id="marqueeCanvas"></canvas>
        </p>
      </div>

    </div>


    <div class="footer container-fluid d-flex justify-content-end align-items-center">

    <div class="footer-logo"></div>

</div>
      
      <script>
        // const marqueeContainer = document.getElementById('marqueeContainer');
        // const canvas = document.getElementById('marqueeCanvas');
        // const ctx = canvas.getContext('2d');
        // const marqueeText = '親愛的乘客們，1813號公車將於5分鐘內抵達，請要搭乘的乘客盡快前往月台候車。';
        // const textColor = '#FFFFFF';
        // const backgroundColor = '#54585A';
        // const fontSize = 3; // 使用相對大小，相對於螢幕寬度的百分比

        // canvas.width = marqueeContainer.clientWidth;
        // canvas.height = marqueeContainer.clientHeight;

        // ctx.font = `${fontSize}vw Arial`; // 使用 vw 單位
        // ctx.fillStyle = textColor;

        // function draw() {
        //   ctx.clearRect(0, 0, canvas.width, canvas.height);
        //   ctx.fillText(marqueeText, draw.position, fontSize + canvas.height / 2);

        //   draw.position -= 1;  //速度放慢

        //   if (draw.position < -ctx.measureText(marqueeText).width) {
        //     draw.position = canvas.width;
        //   }

        //   requestAnimationFrame(draw);
        // }

        // draw.position = canvas.width;

        // draw();


        //第二次
        const marqueeContainer = document.getElementById('marqueeContainer');
        const canvas = document.getElementById('marqueeCanvas');
        const ctx = canvas.getContext('2d');
        const marqueeText = '親愛的乘客們，1813號公車將於5分鐘內抵達，請要搭乘的乘客盡快前往月台候車。';
        const textColor = '#FFFFFF';
        const backgroundColor = '#54585A';
        const fontSize = 3; // 使用相對大小，這裡是相對於螢幕寬度的百分比

        canvas.width = marqueeContainer.clientWidth;
        canvas.height = marqueeContainer.clientHeight;

        ctx.font = `${fontSize}vw Arial`; // 使用 vw 單位
        ctx.fillStyle = textColor;

        function draw() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);

          const textWidth = ctx.measureText(marqueeText).width;
          const xPos = (canvas.width - textWidth) / 2; // 計算文字的 x 位置使其置中
          const yPos = fontSize + canvas.height / 2;

          ctx.fillText(marqueeText, draw.position + xPos, yPos);

          draw.position -= 10;

          if (draw.position < -textWidth) {
            draw.position = canvas.width;
          }

          requestAnimationFrame(draw);
        }

        draw.position = canvas.width;

        draw();

        //第三次
        // const marqueeContainer = document.getElementById('marqueeContainer');
        // const canvas = document.getElementById('marqueeCanvas');
        // const ctx = canvas.getContext('2d');
        // const marqueeText = '親愛的乘客們，1813號公車將於5分鐘內抵達，請要搭乘的乘客盡快前往月台候車。';
        // const textColor = '#FFFFFF';
        // const backgroundColor = '#54585A';
        // const fontSize = 3; // 使用相對大小，這裡是相對於螢幕寬度的百分比

        // canvas.width = marqueeContainer.clientWidth;
        // canvas.height = marqueeContainer.clientHeight;

        // ctx.font = `${fontSize}vw Arial`; // 使用 vw 單位
        // ctx.fillStyle = textColor;

        // function draw() {
        //   ctx.clearRect(0, 0, canvas.width, canvas.height);

        //   const textWidth = ctx.measureText(marqueeText).width;
        //   const containerWidth = marqueeContainer.clientWidth;

        //   let xPos = draw.position;

        //   // 如果文字的位置小於容器的寬度，則讓文字重新開始
        //   if (xPos < -textWidth) {
        //     xPos = containerWidth;
        //   }

        //   const yPos = fontSize + canvas.height / 2;

        //   ctx.fillText(marqueeText, xPos, yPos);

        //   draw.position -= 1;

        //   requestAnimationFrame(draw);
        // }

        // draw.position = canvas.width;

        // draw();

        


      </script>
</body>

</html>